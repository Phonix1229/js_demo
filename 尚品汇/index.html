<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>尚品汇精品</title>
    <link rel="stylesheet" href="./css/01.css">
</head>

<body>
    <div id="header">
        <div id="headerTopWidth">
            <div id="headerTop">
                <div id="headerTopLeft">
                    尚品汇欢迎您&nbsp;&nbsp;
                    <span>请</span>
                    <a href="#" class="clearborder-left">登录</a>
                    <a href="#">免费注册</a>
                </div>

                <div id="headerTopRight">
                    <a href="#" class="clearborder-left">我的订单</a>
                    <a href="#">我的购物车</a>
                    <a href="#">我的尚品汇</a>
                    <a href="#">尚品汇会员</a>
                    <a href="#">企业采购</a>
                    <a href="#">关注尚品汇</a>
                    <a href="#">合作招聘</a>
                    <a href="#">商家后台</a>
                </div>
            </div>
        </div>
        <div id="headerBottom">
            <h1 id="headerBottomLeft">
                <a href="#"><img src="./images/Logo.png" alt=""></a>
            </h1>
            <form action="#" id="headerBottomRight">
                <input type="text">
                <button type="button">搜索</button>
            </form>
        </div>
    </div>

    <div id="sidebar">
        <div class="sidebarContent"></div>
        <div class="sidebarMenu"></div>
        <ul class="sidebarList">
            <li>
                <span></span>
                <p>个人信息</p>
            </li>
            <li>
                <span></span>
                <p>购物车</p>
            </li>
            <li>
                <span></span>
                <p>历史记录</p>
            </li>
            <li>
                <span></span>
                <p>我的消息</p>
            </li>
            <li>
                <span></span>
                <p>这是华哥</p>
            </li>
            <li>
                <span></span>
                <p>这是静哥</p>
            </li>
        </ul>
        <div class="backTop"></div>
    </div>

    <div id="nav">
        <ul id="navList">
            <li>所有商品分类</li>
            <li><a href="#">服装城</a></li>
            <li><a href="#">美妆馆</a></li>
            <li><a href="#">尚品汇超市</a></li>
            <li><a href="#">全球购</a></li>
            <li><a href="#">闪购</a></li>
            <li><a href="#">团购</a></li>
            <li><a href="#">有趣</a></li>
            <li><a href="#">秒杀</a></li>
        </ul>
    </div>

    <div id="main">
        <p id="mainTop">
            <a href="#" class="clearMargin">手机、数码、通讯手机</a>
            <span>/</span>
            <a href="#">Apple苹果</a>
            <span>/</span>
            <a href="#">iphone&nbsp;6S系列</a>
        </p>
        <div id="con">
            <div id="conLeft">
                <div class="conPreview">
                    <!-- 小图区域 -->
                    <div class="conSmallPho">
                        <img src="./images/s1.png" alt="">
                        <!-- 蒙版 -->
                        <div class="mask"></div>
                    </div>
                    <!-- 大图区域 -->
                    <div class="conBigPho">
                        <img src="./images/b1.png" alt="">
                    </div>
                </div>

                <!-- <ul id="conTopList">
                    <li>&lt;</li>
                    <li>
                        <img src="./images/b1.png" alt="">
                    </li>
                    <li>
                        <img src="./images/b2.png" alt="">
                    </li>
                    <li>
                        <img src="./images/b3.png" alt="">
                    </li>
                    <li>
                        <img src="./images/b1.png" alt="">
                    </li>
                    <li>
                        <img src="./images/b2.png" alt="">
                    </li>
                    <li>&gt;</li>
                </ul> -->

                <div class="conPreviewScroll">
                    <p class="toLeft">&lt;</p>
                    <div class="preListOut">
                        <ul class="preList">

                        </ul>
                    </div>
                    <p class="toRight">&gt;</p>
                </div>
            </div>
            <div id="conRight">
                <div id="priceArea">
                    <!-- <h3>Apple iPhone 6s（A1700）64G玫瑰金色 移动通信电信4G手机</h3>
                    <p>推荐选择下方[移动优惠购],手机套餐齐搞定,不用换号,每月还有花费返</p>
                    <div id="price">
                        <div id="priceDetail">
                            <p>价&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;格</p>
                            <p>
                                ￥
                                <span>5299</span>
                                元
                            </p>
                        </div>
                        <div id="promotion">
                            <p>促&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;销</p>
                            <p><span>加价购</span>满999.00另加20.00元，或满1999.00另加30.00元，或满2999.00另加40.00元，即可在购物车换购热销商品</p>
                        </div>
                    </div>
                    <div id="support">
                        <div id="supportDetail">
                            <p>支　&nbsp;&nbsp;持</p>
                            <p>以旧换新，闲置手机回收 4G套餐超值抢 礼品购</p>
                        </div>
                        <div id="address">
                            <p>配&nbsp;送&nbsp;至</p>
                            <p>广东省 深圳市 宝安区</p>
                        </div>
                    </div> -->

                </div>
                <div id="chooseInsert">
                </div>
                <div id="choose">
                    <!-- <dl>
                        <dt>选择颜色</dt>
                        <dd class="active">金色</dd>
                        <dd>银色</dd>
                        <dd>黑色</dd>
                    </dl>
                    <dl>
                        <dt>内存容量</dt>
                        <dd class="active">16G</dd>
                        <dd>32G</dd>
                        <dd>64G</dd>
                        <dd>128G</dd>
                    </dl>
                    <dl>
                        <dt>选择版本</dt>
                        <dd class="active">公开版</dd>
                        <dd>移动版</dd>
                    </dl>
                    <dl>
                        <dt>选择优惠</dt>
                        <dd class="active">官方标配</dd>
                        <dd>移动优惠版</dd>
                        <dd>电信优惠版</dd>
                    </dl> -->
                </div>
                <div id="goodsCount">
                    <div id="count">
                        <input type="text" value=1 readonly>
                        <div id="tally">
                            <span class="add">+</span>
                            <span class="minus">-</span>
                        </div>
                    </div>
                    <div id="addCart">加入购物车</div>
                </div>
            </div>
        </div>

        <div id="productDetail">
            <div id="productDetailLeft">
                <div id="tabDetailTitle">
                    <h4 class="active">相关分类</h4>
                    <h4>推荐品牌</h4>
                </div>
                <div id="tabDetailContent">
                    <div class="tab-pane active">
                        <ul class="partList">
                            <li><a href="#">手机</a></li>
                            <li><a href="#">手机壳</a></li>
                            <li><a href="#">内存卡</a></li>
                            <li><a href="#">Iphone配件</a></li>
                            <li><a href="#">贴膜</a></li>
                            <li><a href="#">手机耳机</a></li>
                            <li><a href="#">移动电源</a></li>
                            <li><a href="#">平板电脑</a></li>
                        </ul>
                        <ul class="goodList">
                            <li>
                                <img src="./images/part01.png" alt="">
                                <h4>Apple苹果iPhone 6s (A1699)</h4>
                                <p>￥6088.00</p>
                                <a href="#">加入购物车</a>
                            </li>
                            <li>
                                <img src="./images/part01.png" alt="">
                                <h4>Apple苹果iPhone 6s (A1699)</h4>
                                <p>￥6088.00</p>
                                <a href="#">加入购物车</a>
                            </li>
                            <li>
                                <img src="./images/part01.png" alt="">
                                <h4>Apple苹果iPhone 6s (A1699)</h4>
                                <p>￥6088.00</p>
                                <a href="#">加入购物车</a>
                            </li>
                            <li>
                                <img src="./images/part01.png" alt="">
                                <h4>Apple苹果iPhone 6s (A1699)</h4>
                                <p>￥6088.00</p>
                                <a href="#">加入购物车</a>
                            </li>
                        </ul>
                    </div>
                    <div class="tab-pane">推荐品牌</div>

                </div>
            </div>

            <div id="productDetailRight">
                <div id="productFitting">
                    <h4>选择搭配</h4>
                    <div class="goodSuits">
                        <div class="stapleProduct">
                            <img src="./images/l-m01.png" alt="">
                            <p>¥5299</p>
                            <span>+</span>
                        </div>

                        <ul class="parts">
                            <li>
                                <img src="./images/dp01.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <label><input type="checkbox" value="39">39</label>
                            </li>
                            <li>
                                <img src="./images/dp02.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <label><input type="checkbox" value="39">39</label>
                            </li>
                            <li>
                                <img src="./images/dp03.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <label><input type="checkbox" value="39">39</label>
                            </li>
                            <li>
                                <img src="./images/dp04.png" alt="">
                                <p>Feless费勒斯VR</p>
                                <label><input type="checkbox" value="39">39</label>
                            </li>
                        </ul>

                        <div class="result">
                            <p class="partsCount">已选购0件商品</p>
                            <p class="priceTitle">套餐价</p>
                            <p class="totalPrice">¥5299</p>
                            <div class="addToCart">加入购物车</div>
                        </div>
                    </div>
                </div>

                <div id="productIntro">
                    <ul id="tabIntroTitle">
                        <li class="active"><a href="###">商品介绍</a></li>
                        <li><a href="###">规格与包装</a></li>
                        <li><a href="###">售后保障</a></li>
                        <li><a href="###">商品评价</a></li>
                        <li><a href="###">手机社区</a></li>
                    </ul>
                    <div id="tabIntroContent">
                        <div class="introCon active">
                            <ul class="goodsIntro">
                                <li>分辨率：1920*1080(FHD)</li>
                                <li>后置摄像头：1200万像素</li>
                                <li>前置摄像头：500万像素</li>
                                <li>核 数：其他</li>
                                <li>频 率：以官网信息为准</li>
                                <li>品牌： Apple</li>
                                <li>商品名称：APPLEiPhone 6s Plus</li>
                                <li>商品编号：1861098</li>
                                <li>商品产地：中国大陆</li>
                                <li>商品毛重：0.51kg</li>
                                <li>热点：指纹识别，Apple Pay，金属机身，拍照神器</li>
                                <li>系统：苹果（IOS）</li>
                                <li>像素：1000-1600万品毛重：0.51kg</li>
                                <li>机身内存：64GB</li>
                            </ul>

                            <div class="introPho">
                                <img src="./images/intro01.png" alt="">
                                <img src="./images/intro02.png" alt="">
                                <img src="./images/intro03.png" alt="">
                            </div>
                        </div>
                        <div class="introCon">
                            规格与包装
                        </div>
                        <div class="introCon">
                            售后保障
                        </div>
                        <div class="introCon">
                            商品评价
                        </div>
                        <div class="introCon">
                            手机社区
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="./js/data.js"></script>
    <script>

        window.addEventListener("DOMContentLoaded", function () {

            //功能1：放大镜
            magnifier();
            function magnifier() {
                var oConPreview = document.querySelector("#main #con #conLeft .conPreview");
                var oSmallPho = document.querySelector("#main #con #conLeft .conPreview .conSmallPho");
                var oSmallImg = document.querySelector("#main #con #conLeft .conPreview .conSmallPho img")
                var oMask = document.querySelector("#main #con #conLeft .conPreview .conSmallPho .mask");
                var oBigPho = document.querySelector("#main #con #conLeft .conPreview .conBigPho");
                var oBigImg = document.querySelector("#main #con #conLeft .conPreview .conBigPho img");

                //鼠标移入事件
                oSmallPho.onmousemove = function (e) {

                    //将蒙版显示
                    oMask.style.display = "block";
                    //将大图显示
                    oBigPho.style.display = "block";

                    //计算mask的位置，鼠标到窗口的距离 - 小图中的图片到窗口的距离 - 蒙版的宽度的一半
                    var oMaskLocation = {
                        left: e.clientX - oSmallImg.getBoundingClientRect().left - oMask.offsetWidth / 2,
                        top: e.clientY - oSmallImg.getBoundingClientRect().top - oMask.offsetHeight / 2
                    }

                    //判断临界值
                    if (oMaskLocation.left <= 0) {
                        oMaskLocation.left = 0;
                    } else if (oMaskLocation.left >= oConPreview.clientWidth - oMask.offsetWidth) {
                        oMaskLocation.left = oConPreview.clientWidth - oMask.offsetWidth
                    }
                    if (oMaskLocation.top <= 0) {
                        oMaskLocation.top = 0;
                    } else if (oMaskLocation.top >= oConPreview.clientHeight - oMask.offsetHeight) {
                        oMaskLocation.top = oConPreview.clientHeight - oMask.offsetHeight
                    }

                    //赋值
                    oMask.style.left = oMaskLocation.left + "px";
                    oMask.style.top = oMaskLocation.top + "px";


                    //下面对大图进行移动
                    //根据大图和小图，计算比例，小图走的距离 / 小图能走的总距离 = 大图走的距离 / 大图能走的总距离
                    //需要求大图走的距离， 大图走的距离 = 小图走的距离 * 大图能走的总距离 / 小图能走的总距离 
                    // 那么比例就是 scale = 大图能走的总距离 / 小图能走的总距离
                    //大图能走的总距离 = 大图的padding宽度 -  oBigPho的border宽度
                    var oBigImgAll = oBigImg.clientWidth - oBigPho.offsetWidth;
                    //小图能走的总距离 = 小图的padding阔度 - 蒙版的border宽度
                    var oSmallAll = oSmallImg.clientWidth - oMask.offsetWidth;
                    //计算比例scale
                    var scale = oBigImgAll / oSmallAll;

                    //计算大图走的距离 = 小图走的距离 * scale
                    var oBigImgLocation = {
                        left: oMaskLocation.left * scale,
                        top: oMaskLocation.top * scale,
                    }

                    //赋值，因为蒙版向右移动，则大图就需要向左移动，所以是负的
                    oBigImg.style.left = -oBigImgLocation.left + "px";
                    oBigImg.style.top = -oBigImgLocation.top + "px";


                }
                //鼠标移出事件
                oSmallPho.onmouseleave = function () {
                    //将蒙版隐藏
                    oMask.style.display = "none";
                    //将大图隐藏
                    oBigPho.style.display = "none";
                }
            }


            //功能2：动态创建数据
            thumbnailData();
            function thumbnailData() {
                var oPreList = document.querySelector("#main #con #conLeft .conPreviewScroll .preList");
                var data = goodData.imgsrc;
                data.forEach(function (item, index) {
                    //创建一个li元素
                    var newLi = document.createElement("li");
                    //创建一个img标签
                    var newImg = new Image();
                    //将data中的src赋值给新建的img标签中的src
                    newImg.src = item.s;
                    //将新建的img标签插入到新建的li中
                    newLi.appendChild(newImg);
                    //将新建的li标签插入到ul
                    oPreList.appendChild(newLi);
                })
            }


            //功能3：缩略图左右点击
            thumbnail();
            function thumbnail() {
                //获取左
                var oLeft = document.querySelector("#main #con #conLeft .conPreviewScroll .toLeft")
                //获取向右
                var oRight = document.querySelector("#main #con #conLeft .conPreviewScroll .toRight")
                var oPreList = document.querySelector("#main #con #conLeft .conPreviewScroll .preList");
                var oPreLis = document.querySelectorAll("#main #con #conLeft .conPreviewScroll .preList li");


                //初始化一个开始位置
                var oPreListLocation = 0;
                //计算元素能够走的总距离，(li的总个数 - 5) * 一个li的宽度
                var oPreListAllMove = (oPreLis.length - 5) * oPreLis[0].offsetWidth;
                //计算每一步走的距离，每步走两个li的宽度
                var every = oPreLis[0].offsetWidth * 2;

                //点击向右
                oRight.onclick = function () {
                    //如果能够移动的总距离 - 移动的距离 小于每次走的距离 则将移动的距离赋值为 能够移动的总距离
                    if (oPreListAllMove - oPreListLocation <= every) {
                        oPreListLocation = oPreListAllMove;
                    } else {
                        //如果不小于，则累加每步走的距离
                        oPreListLocation += every;
                    }
                    //赋值
                    oPreList.style.transform = "translateX(-" + oPreListLocation + "px)";
                }

                //点击向右
                oLeft.onclick = function () {
                    //如果走过的距离 小于 每一步走的距离，则赋值为0
                    if (oPreListLocation < every) {
                        oPreListLocation = 0;
                    } else {
                        //如果不小于，则累减每步走的距离
                        oPreListLocation -= every;
                    }
                    //赋值
                    oPreList.style.transform = "translateX(-" + oPreListLocation + "px)";
                }


            }

            //功能4：缩略图点击
            thumbnailClick();
            function thumbnailClick() {
                //获取所有的缩略图
                var oPreImg = document.querySelectorAll("#main #con #conLeft .conPreviewScroll .preListOut .preList li img");
                //获取小图
                var oSmallImg = document.querySelector("#main #con #conLeft .conPreview .conSmallPho img")
                //获取大图
                var oBigImg = document.querySelector("#main #con #conLeft .conPreview .conBigPho img");
                var data = goodData.imgsrc;
                // 给所有的缩略图绑定点击事件
                oPreImg.forEach(function (item, index) {
                    item.onclick = function () {
                        //将点击的缩略图对应下标的 图片的路径 赋值给小图的src
                        oSmallImg.src = data[index].s;
                        oBigImg.src = data[index].b;
                    }
                })
            }


            //功能5：动态添加数据
            detailData();
            function detailData() {
                var oPriceArea = document.querySelector("#main #con #conRight #priceArea")
                var data = goodData.goodsDetail;

                //因为需要使用字符串添加，所以声明一个字符串，将标签等放进来
                //因为标签中的id 以及 class 用到了双引号，所以我们使用单引号包起来。用转义符将回车转义

                //用引进来的外部js文件中的数据，直接使用对象的属性即可
                var str = '<h3>' + data.title + '</h3>\
                    <p>' + data.recommend + '</p>\
                    <div id="price">\
                        <div id="priceDetail">\
                            <p>价&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;格</p>\
                            <p>￥<span>' + data.price + '</span>元</p>\
                        </div>\
                        <div id="promotion">\
                            <p>促&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;销</p>\
                            <p><span>' + data.promoteSales.type + '</span>' + data.promoteSales.content + '</p>\
                        </div>\
                    </div>\
                    <div id="support">\
                        <div id="supportDetail">\
                            <p>支　&nbsp;&nbsp;持</p>\
                            <p>' + data.support + '</p>\
                        </div>\
                        <div id="address">\
                            <p>配&nbsp;送&nbsp;至</p>\
                            <p>' + data.address + '</p>\
                        </div>\
                    </div>';

                //因为需要解析标签，所以使用innerHTML将str插入到priceArea中
                oPriceArea.innerHTML = str;
            }


            //功能6：添加数据
            chooseData();
            function chooseData() {
                var oChoose = document.querySelector("#main #con #conRight #choose")
                var data = goodData.goodsDetail.crumbData;
                //遍历data数组
                data.forEach(function (item, index) {
                    //创建dl
                    var newDl = document.createElement("dl");
                    //创建dt
                    var newDt = document.createElement("dt");

                    newDt.textContent = item.title;
                    newDl.appendChild(newDt);
                    //遍历curmbData数组中的对象
                    item.data.forEach(function (item, index) {
                        //创建dd
                        var newDd = document.createElement("dd");
                        //将data对象中的type属性赋到newDd的内容
                        newDd.textContent = item.type;
                        //给dd添加自定义属性，并赋值为data中的changePrice
                        newDd.dataset.price = item.changePrice;
                        newDl.appendChild(newDd);
                    })
                    oChoose.appendChild(newDl);
                })

            }

            //功能7，点击choose
            choose();
            function choose() {
                //创建数组，用来保存li中点击的dd
                var insertArr = new Array(4);
                insertArr.fill(null)

                //获取元素
                var oDls = document.querySelectorAll("#choose dl");


                oDls.forEach(function (item, index) {

                    //获取dl的下标，用来表示数组中的下标
                    var dlIndex = index;
                    //获取对应下标dl中的dd
                    var oDlDds = item.querySelectorAll("#choose dl dd")
                    oDlDds.forEach(function (item, index) {
                        item.onclick = function () {
                            var oChooseInsert = document.querySelector("#chooseInsert")
                            //先清空样式
                            oDlDds.forEach(function (item, index) {
                                item.style.color = "#000";
                            })
                            //给点击的dd添加样式
                            this.style.color = "red";

                            // 将当前点击的dd插入到数组中
                            insertArr[dlIndex] = item;
                            // console.log(insertArr);
                            //每次点击先清空oChooseInsert中的标签
                            oChooseInsert.textContent = "";


                            //遍历数组
                            insertArr.forEach(function (item, index) {
                                //如果数组中的item为空，则不执行if后面的代码
                                if (!item) {
                                    return;
                                }
                                //创建一个mark标签
                                var newMark = document.createElement("mark");
                                //给mark标签中赋值item的内容
                                newMark.textContent = item.textContent;
                                // 创建一个a标签
                                var newDelete = document.createElement("a");
                                //给a标签的href属性赋值一个#
                                newDelete.href = "###";
                                //给a标签的内容赋值为X，用做删除按钮
                                newDelete.textContent = "X";
                                //给新建的a标签添加一个自定义属性，保存当前mark对应的dl的下标
                                newDelete.dataset.index = index;
                                //将a标签插入到mark标签中
                                newMark.appendChild(newDelete)
                                //将mark标签插入到oChooseInsert中
                                oChooseInsert.appendChild(newMark)
                            })

                            //删除
                            var oDelete = document.querySelectorAll("#main #con #conRight #chooseInsert mark a");
                            // console.log(oDelete)
                            oDelete.forEach(function (item, index) {
                                item.onclick = function () {
                                    //删除当前点击的item的父节点，即mark
                                    this.parentNode.remove();
                                    //更改数组中对应下标的值为null
                                    insertArr[this.dataset.index] = null;

                                    //获取当前oDelete的下标对应的dl下面所有的dd
                                    var NowDd = oDls[this.dataset.index].querySelectorAll("dd");
                                    //遍历所有的dd，将样式清除
                                    NowDd.forEach(function (item, index) {
                                        item.style.color = "#000";
                                    })
                                    //给第一个dd添加样式
                                    NowDd[0].style.color = "red";

                                    // 删除捡钱
                                    changePrice(insertArr);

                                }
                            })

                            //点击dd加钱
                            changePrice(insertArr);

                        }
                    })
                    // console.log(oDlDds)
                })
                function changePrice(arr) {

                    //获取基础价钱
                    var basePrice = goodData.goodsDetail.price;
                    //遍历数组，先获取到数组中dd的要修改的价钱，在基础价钱上进行计算
                    //在功能6一开始创建dd元素的时候，先给dd元素设置一个自定义属性，用来保存价钱
                    arr.forEach(function (item, index) {
                        //先判断数组中的值是否为null，如果为null，则不执行下面代码
                        if (!item) {
                            return;
                        }
                        //因为自定义属性是字符串，所以使用一元运算符进行类型转换
                        basePrice += +item.dataset.price;
                    })

                    //赋值
                    var allPrice = document.querySelector("#priceDetail p span");
                    //在赋值之前，先乘以数量
                    var oText = document.querySelector("#main #con #conRight #goodsCount #count input")
                    allPrice.textContent = basePrice * oText.value;
                }
            }


            //功能8：数量改变
            goodsNum();
            function goodsNum() {
                var oAdd = document.querySelector("#main #con #conRight #goodsCount #count #tally .add")
                var oMinus = document.querySelector("#main #con #conRight #goodsCount #count #tally .minus")
                //获取文本框元素
                var oText = document.querySelector("#main #con #conRight #goodsCount #count input")
                //初始化一个数量，为1
                var count = 1;


                //点击+ 号
                oAdd.onclick = function () {
                    // 获取价格元素
                    var oPrice = document.querySelector("#main #con #conRight #priceArea #price #priceDetail p span")
                    //获取价格，因为文本框的内容是字符串，所以使用一元运算符转换程number类型
                    var nowPrice = +oPrice.textContent;
                    // console.log(nowPrice)

                    //点击+号，则count加1
                    count++;
                    //将count的值赋值给文本框
                    oText.value = count;

                    //根据数量count来计算总价钱， count * 单价
                    var allPrice = count * (nowPrice / (count - 1));
                    oPrice.textContent = allPrice;

                }
                oMinus.onclick = function () {
                    // 获取价格元素
                    var oPrice = document.querySelector("#main #con #conRight #priceArea #price #priceDetail p span")
                    //获取价格，因为文本框的内容是字符串，所以使用一元运算符转换程number类型
                    var nowPrice = +oPrice.textContent;
                    // console.log(nowPrice)

                    //点击-号，则count减1
                    count--;

                    //判断临界值，如果判断小于等于1的话，当count等于1的时候，是不执行if后面的代码的
                    if (count < 1) {
                        count = 1;
                        return;
                    }

                    //将count的值赋值给文本框
                    oText.value = count;

                    //根据数量count来计算总价钱， count * 单价
                    var allPrice = count * (nowPrice / (count + 1));
                    oPrice.textContent = allPrice;

                }
            }


            //tan切换构造函数
            function Tab(Titles, Cons) {
                //给实例化对象扩展的Titles属性
                this.Titles = Titles;
                //给实例化对象扩展的Cons属性
                this.Cons = Cons;
                //声明一个变量，保存this，也就是原型对象
                var _this = this;

                //遍历Titles，给所有title绑定点击事件
                this.Titles.forEach(function (item, index) {
                    item.onclick = function () {
                        //把当前点击的item，以及下标传参给原型对象上的click方法
                        _this.click(this, index)
                    }
                })
            }

            //t就是点击的title，i就是title对应的下标
            Tab.prototype.click = function (t, i) {

                var _this = this;
                this.Titles.forEach(function (item, index) {
                    //遍历Titles，先将所有title的样式清空
                    item.classList.remove("active");
                    //以及对应下标index的Cons的样式清空
                    _this.Cons[index].classList.remove("active");
                })
                //给当前点击title添加样式
                t.classList.add("active");
                //以及对应下标的con添加样式
                this.Cons[i].classList.add("active")
            }

            //侧边栏tab
            asideTab();
            function asideTab() {
                //获取侧边栏的所有的title和con
                var Titles = document.querySelectorAll("#main #productDetail #productDetailLeft #tabDetailTitle h4");
                var Cons = document.querySelectorAll("#main #productDetail #productDetailLeft #tabDetailContent .tab-pane")

                new Tab(Titles, Cons)
            }

            //详情简介内容tab
            introTab();
            function introTab() {
                var Titles = document.querySelectorAll("#main #productDetail #productDetailRight #productIntro #tabIntroTitle li")
                var Cons = document.querySelectorAll("#main #productDetail #productDetailRight #productIntro #tabIntroContent .introCon");

                new Tab(Titles, Cons)
            }


            //侧边栏
            sidebarClick();
            function sidebarClick() {
                var oMenu = document.querySelector("#sidebar .sidebarMenu");
                var oSidebar = document.querySelector("#sidebar");
                //开关思想，默认是关闭
                var flag = false;
                oMenu.onclick = function () {
                    //点击之后，打开开关
                    flag = !flag;
                    if (flag) {
                        oSidebar.style.right = 0 + "px";
                    } else {
                        oSidebar.style.right = -294 + "px"
                    }
                    
                }
            }

        })




    </script>
</body>

</html>